(this.webpackJsonpcontext=this.webpackJsonpcontext||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(5),c=n.n(r),u=n(7),l=n(1),s=n(6),i=Object(o.createContext)(),f={books:[]},b=function(e,t){switch(t.type){case"ADD_BOOKS":return{books:[].concat(Object(s.a)(e.books),[t.payload])};case"DELETE_BOOKS":return{books:e.books.filter((function(e){return e.id!==t.payload}))};case"LOAD_LOCAL_STORAGE_DATA":return{books:t.payload};default:return e}},m=function(e){var t=Object(o.useReducer)(b,f),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){var e=[];fetch("https://test-projects-dacb2.firebaseio.com/todo.json").then((function(e){return e.json()})).then((function(t){console.log(t),t&&Object.entries(t).forEach((function(t){var n=Object(l.a)(t,2),o=n[0],a=n[1];e.push(Object(u.a)({id:o},a))})),c({type:"LOAD_LOCAL_STORAGE_DATA",payload:e})}))}),[]),a.a.createElement(i.Provider,{value:{state:r,dispatch:c}},e.children)};var d=function(e){var t=Object(o.useContext)(i).state;return a.a.createElement("nav",null,a.a.createElement("h1",null,"My Booklist on react hooks"),a.a.createElement("p",null,"Currently we have ",t.books.length," books "))};var E=function(e){var t=Object(o.useContext)(i),n=t.state,r=t.dispatch;return a.a.createElement("div",{className:"book-list"},n.books.length>0?a.a.createElement("ul",null,n.books.map((function(e){var t=e.id,n=e.title,o=e.author;return a.a.createElement("li",{key:t,className:"booklist__item"},a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"title"},n),a.a.createElement("div",{className:"author"},o)),a.a.createElement("button",{onClick:function(){return r({type:"DELETE_BOOKS",payload:t})},className:"remove_btn"},"X")," ")}))):a.a.createElement("div",null,"No books found"))},h=function(){var e=Object(o.useContext)(i),t=e.state,n=e.dispatch,r=Object(o.useState)(""),c=Object(l.a)(r,2),u=c[0],s=c[1],f=Object(o.useState)(""),b=Object(l.a)(f,2),m=b[0],d=b[1],E=Object(o.useRef)(null),h=Object(o.useRef)(null),p=Object(o.useRef)(null);Object(o.useEffect)((function(){E.current.focus()}),[t.books]);var O=function(e){e.preventDefault(),fetch("https://test-projects-dacb2.firebaseio.com/todo.json",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({title:u,author:m})}).then((function(e){return e.json()})).then((function(e){console.log(e),n({type:"ADD_BOOKS",payload:{title:u,author:m,id:e.name}}),d(""),s("")})).catch((function(e){return console.log(e)}))};return a.a.createElement("form",{onSubmit:O},a.a.createElement("input",{name:"bookName",placeholder:"Enter book Name ",value:u,ref:E,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h.current.focus()},required:!0}),a.a.createElement("input",{name:"bookAuthor",placeholder:"Enter book Author",ref:h,onChange:function(e){return d(e.target.value)},value:m,onKeyDown:function(e){"Enter"===e.key&&p.current.focus()},required:!0}),a.a.createElement("button",{type:"submit",onKeyDown:function(e){O(e)},ref:p},"Submit"))};var p=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(m,null,a.a.createElement(d,null),a.a.createElement(h,null),a.a.createElement(E,null)))};n(13);c.a.render(a.a.createElement(p,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.82665f84.chunk.js.map